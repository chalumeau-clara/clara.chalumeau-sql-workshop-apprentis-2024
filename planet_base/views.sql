CREATE VIEW view_nearest_planet_to_sun (planet) AS SELECT planet.name FROM planet INNER JOIN planetary_system ON planet.id_system=planetary_system.id WHERE star ILIKE 'sun' ORDER BY period LIMIT 3;
CREATE VIEW view_nb_satellite_per_planet (planet, "number of satellites") AS SELECT planet.name, count(satellite.id) AS "number of satellites" FROM satellite FULL OUTER JOIN planet ON satellite.id_planet=planet.id 
WHERE planet.id NOT IN (SELECT id_planet FROM satellite) OR satellite.radius > 500 GROUP BY planet.name ORDER BY "number of satellites", planet.name;
CREATE VIEW view_average_period (system, average_period) AS SELECT planetary_system.name, COALESCE(ROUND(avg(planet.period), 2), 0) AS average_period FROM planet FULL OUTER JOIN planetary_system ON planet.id_system=planetary_system.id 
GROUP BY planetary_system.name ORDER BY average_period, planetary_system.name;
CREATE VIEW view_biggest_entities (type, system, name,radius) AS SELECT 'satellite' AS type, planetary_system.name AS system, satellite.name AS name, satellite.radius AS radius FROM satellite INNER JOIN planet ON satellite.id_planet=planet.id INNER JOIN planetary_system ON planet.id_system=planetary_system.id UNION SELECT 'planet' AS type, planetary_system.name AS system, planet.name AS name, planet.radius AS radius FROM planet INNER JOIN planetary_system ON planet.id_system=planetary_system.id ORDER BY radius DESC, name LIMIT 10 ;
